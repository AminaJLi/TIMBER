<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TIMBER: Plotting Tools</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TIMBER
   &#160;<span id="projectnumber">beta</span>
   </div>
   <div id="projectbrief">Tree Interface for Making Binned Events with RDataFrame</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Plotting Tools</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions to easily plot histograms together in various configurations.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad2a622f125f2d6a5e77d1e0f60e054e7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___plot.html#gad2a622f125f2d6a5e77d1e0f60e054e7">CompareShapes</a> (outfilename, year, prettyvarname, bkgs={}, signals={}, names={}, colors={}, scale=True, stackBkg=False)</td></tr>
<tr class="memdesc:gad2a622f125f2d6a5e77d1e0f60e054e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a plot that compares the shapes of backgrounds versus signal.  <a href="group___plot.html#gad2a622f125f2d6a5e77d1e0f60e054e7">More...</a><br /></td></tr>
<tr class="separator:gad2a622f125f2d6a5e77d1e0f60e054e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaffbff8259b3da4f122473b0e0100c327"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___plot.html#gaffbff8259b3da4f122473b0e0100c327">MoneyPlots</a> (name, histlist, bkglist=[], signals=[], colors=[], titles=[], logy=False, xtitle='', ytitle='', dataOff=False, datastyle='pe')</td></tr>
<tr class="memdesc:gaffbff8259b3da4f122473b0e0100c327"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tool to produce plots quickly as .root, .pdf, .png, etc.  <a href="group___plot.html#gaffbff8259b3da4f122473b0e0100c327">More...</a><br /></td></tr>
<tr class="separator:gaffbff8259b3da4f122473b0e0100c327"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7c16fa7d4ea701ed0825f1b7dd9afb49"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___plot.html#ga7c16fa7d4ea701ed0825f1b7dd9afb49">MakePullPlot</a> (data, bkg)</td></tr>
<tr class="memdesc:ga7c16fa7d4ea701ed0825f1b7dd9afb49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a pull plot defined as (data-bkg)/sigma where sigma is the error of data and bkg added in quadrature.  <a href="group___plot.html#ga7c16fa7d4ea701ed0825f1b7dd9afb49">More...</a><br /></td></tr>
<tr class="separator:ga7c16fa7d4ea701ed0825f1b7dd9afb49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga49a8db027ed151ca43425510a1e6c9f7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___plot.html#ga49a8db027ed151ca43425510a1e6c9f7">MakeUpDown</a> (hist)</td></tr>
<tr class="memdesc:ga49a8db027ed151ca43425510a1e6c9f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates up and down variations of a histogram based on its per-bin errors.  <a href="group___plot.html#ga49a8db027ed151ca43425510a1e6c9f7">More...</a><br /></td></tr>
<tr class="separator:ga49a8db027ed151ca43425510a1e6c9f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions to easily plot histograms together in various configurations. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gad2a622f125f2d6a5e77d1e0f60e054e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad2a622f125f2d6a5e77d1e0f60e054e7">&#9670;&nbsp;</a></span>CompareShapes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def TIMBER.Tools.Plot.CompareShapes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>outfilename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>year</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prettyvarname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bkgs</em> = <code>{}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>signals</em> = <code>{}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>names</em> = <code>{}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>colors</em> = <code>{}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>scale</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>stackBkg</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a plot that compares the shapes of backgrounds versus signal. </p>
<p>If stackBkg, backgrounds will be stacked together and signals will be plot separately. Total background and signals are scaled to 1 if scale == True. Inputs organized as dicts so that keys can match across dicts (ex. bkgs and bkgNames).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">outfilename</td><td>(string): Path where plot will be saved. </td></tr>
    <tr><td class="paramname">year</td><td>(int): Year to determine luminosity value on plot. Options are 16, 17, 18, 1 (for full Run II), or 2 (for full Run II but represented as separate years, ie. 2016+2017+2018). </td></tr>
    <tr><td class="paramname">prettyvarname</td><td>(string): What will be assigned to as the axis title. </td></tr>
    <tr><td class="paramname">bkgs</td><td>({string:TH1}, optional): Dictionary of backgrounds to plot. Defaults to {}. </td></tr>
    <tr><td class="paramname">signals</td><td>({string:TH1}, optional): Dictionary of signals to plot. Defaults to {}. </td></tr>
    <tr><td class="paramname">names</td><td>({string:string}, optional): Formatted version of names for backgrounds and signals to appear in legend. Keys must match those in bkgs and signal. Defaults to {}. </td></tr>
    <tr><td class="paramname">colors</td><td>({string:int}, optional): TColor code for backgrounds and signals to appear in plot. Keys must match those in bkgs and signal. Defaults to {}. </td></tr>
    <tr><td class="paramname">scale</td><td>(bool, optional): If True, scales total background to unity and signals (separately) to unity. Defaults to True. </td></tr>
    <tr><td class="paramname">stackBkg</td><td>(bool, optional): If True, backgrounds will be stacked and the total will be normalized to 1 (if scale==True). Defaults to False. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga7c16fa7d4ea701ed0825f1b7dd9afb49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7c16fa7d4ea701ed0825f1b7dd9afb49">&#9670;&nbsp;</a></span>MakePullPlot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def TIMBER.Tools.Plot.MakePullPlot </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bkg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates a pull plot defined as (data-bkg)/sigma where sigma is the error of data and bkg added in quadrature. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>(TH1): Histogram of data. </td></tr>
    <tr><td class="paramname">bkg</td><td>(TH1): Histogram of total background.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd>
<dd>
TH1 Histogram of the pull. </dd></dl>

</div>
</div>
<a id="ga49a8db027ed151ca43425510a1e6c9f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga49a8db027ed151ca43425510a1e6c9f7">&#9670;&nbsp;</a></span>MakeUpDown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def TIMBER.Tools.Plot.MakeUpDown </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hist</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates up and down variations of a histogram based on its per-bin errors. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hist</td><td>(TH1): Histogram from which to create up/down distributions.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>(TH1, TH1): Tuple of (up, down) histograms. </dd></dl>

</div>
</div>
<a id="gaffbff8259b3da4f122473b0e0100c327"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaffbff8259b3da4f122473b0e0100c327">&#9670;&nbsp;</a></span>MoneyPlots()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def TIMBER.Tools.Plot.MoneyPlots </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>histlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bkglist</em> = <code>[]</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>signals</em> = <code>[]</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>colors</em> = <code>[]</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>titles</em> = <code>[]</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>logy</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>xtitle</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ytitle</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dataOff</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datastyle</em> = <code>'pe'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tool to produce plots quickly as .root, .pdf, .png, etc. </p>
<p>If providing TH2s, only plots the data (histlist) with no comparisons. If providing TH1s, plots together the data (histlist), total background (individual components as a stack), and signals with pulls in a lower pane. Providing multiple data histograms will plot the separate pads on a single canvas. Up to 6 pads are supported. See argument descriptions for plotting options.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>(str): Name of output file with extension (file type must be supported by TCanvas.Print()). </td></tr>
    <tr><td class="paramname">histlist</td><td>([TH1 or TH2]): List of data histograms. </td></tr>
    <tr><td class="paramname">bkglist</td><td>([[TH1]], optional): List of list of background histograms. Index of first list level matches against index of histlist. Internal list is the group of backgrounds that will be stacked together to create the total background estimate. For example you could have: <code>histlist = [data1, data2]</code> and <code>bkglist = [[bkg1_1,bkg2_1],[bkg1_2,bkg2_2]]</code>. Defaults to []. </td></tr>
    <tr><td class="paramname">signals</td><td>([TH1], optional): List of signal histograms where index corresponds to the index of histlist. Defaults to []. </td></tr>
    <tr><td class="paramname">colors</td><td>([int], optional): List of integers corresponding to TColor codes where the index corresponds to the index of histlist. Defaults to []. </td></tr>
    <tr><td class="paramname">titles</td><td>([str], optional): List of titles for each histogram where the index corresponds to the index of histlist. Defaults to [] which means the input titles of histlist will be used. </td></tr>
    <tr><td class="paramname">logy</td><td>(bool, optional): Option to plot log y-axis. Defaults to False. </td></tr>
    <tr><td class="paramname">xtitle</td><td>(str, optional): X-axis title for all histograms on the canvas. Defaults to '' which means the input titles of histlist will be used. </td></tr>
    <tr><td class="paramname">ytitle</td><td>(str, optional): Y-axis title for all histograms on the canvas. Defaults to '' which means the input titles of histlist will be used. </td></tr>
    <tr><td class="paramname">dataOff</td><td>(bool, optional): If True, turns off data from being drawn in all pads. Defaults to False. </td></tr>
    <tr><td class="paramname">datastyle</td><td>(str, optional): Style in which to draw data. Defaults to 'pe'.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ValueError</td><td>If number of requested pads is greater than 6. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
